<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íƒ­ ì§„ë‹¨ ë„êµ¬</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f2f5;
        }
        
        .diagnostic-container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .status-panel {
            background: #e3f2fd;
            border: 2px solid #2196F3;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .diagnostic-button {
            background: #2196F3;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            margin: 5px;
            transition: background 0.3s;
        }
        
        .diagnostic-button:hover {
            background: #1976D2;
        }
        
        .result-box {
            background: #f5f5f5;
            border-radius: 8px;
            padding: 20px;
            margin: 10px 0;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .test-iframe {
            width: 100%;
            height: 600px;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .comparison-panel {
            background: #fafafa;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
        }
    </style>
</head>
<body>
    <div class="diagnostic-container">
        <h1>ğŸ” íƒ­ ì „í™˜ ë¬¸ì œ ì§„ë‹¨ ë„êµ¬</h1>
        
        <div class="status-panel">
            <h3>ğŸ¯ í˜„ì¬ ì§„ë‹¨ ìƒí™©</h3>
            <p><strong>ë¬¸ì œ:</strong> "ë‚´ ê²Œì‹œíŒ"ê³¼ "ì •ë¶€ ë³´ë„ìë£Œ" íƒ­ì´ í´ë¦­ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì‚¬ìš©ì ë³´ê³ </p>
            <p><strong>ìë™ í…ŒìŠ¤íŠ¸:</strong> âœ… ëª¨ë“  íƒ­ì´ ì •ìƒ ì‘ë™í•¨ì„ í™•ì¸</p>
            <p><strong>ì¶”ê°€ í™•ì¸ í•„ìš”:</strong> ì‹¤ì œ ì‚¬ìš©ì ê²½í—˜ê³¼ ìë™ í…ŒìŠ¤íŠ¸ì˜ ì°¨ì´ì </p>
        </div>
        
        <div class="comparison-grid">
            <div class="comparison-panel">
                <h3>ğŸ¤– ìë™ í…ŒìŠ¤íŠ¸ ê²°ê³¼</h3>
                <button class="diagnostic-button" onclick="runAutomatedTest()">ìë™ í…ŒìŠ¤íŠ¸ ì‹¤í–‰</button>
                <div class="result-box" id="automated-results">í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</div>
            </div>
            
            <div class="comparison-panel">
                <h3>ğŸ‘† ìˆ˜ë™ í´ë¦­ í…ŒìŠ¤íŠ¸</h3>
                <button class="diagnostic-button" onclick="testManualClick('boards')">ë‚´ ê²Œì‹œíŒ í´ë¦­</button>
                <button class="diagnostic-button" onclick="testManualClick('government')">ì •ë¶€ ë³´ë„ìë£Œ í´ë¦­</button>
                <div class="result-box" id="manual-results">í´ë¦­ í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</div>
            </div>
        </div>
        
        <h3>ğŸ“Š ì‹¤ì‹œê°„ ì§„ë‹¨</h3>
        <button class="diagnostic-button" onclick="diagnoseCurrentState()">í˜„ì¬ ìƒíƒœ ì§„ë‹¨</button>
        <button class="diagnostic-button" onclick="checkCSSConflicts()">CSS ì¶©ëŒ ê²€ì‚¬</button>
        <button class="diagnostic-button" onclick="validateHTML()">HTML êµ¬ì¡° ê²€ì¦</button>
        
        <div class="result-box" id="diagnostic-results">ì§„ë‹¨ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</div>
        
        <h3>ğŸŒ ì‹¤ì œ ì‚¬ì´íŠ¸ í…ŒìŠ¤íŠ¸</h3>
        <p>ì•„ë˜ëŠ” ì‹¤ì œ ë©”ì¸ ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤. íƒ­ì„ í´ë¦­í•´ë³´ì„¸ìš”:</p>
        <iframe class="test-iframe" src="https://3000-i0i3m0ak4ew6ttwalvn3w-c81df28e.sandbox.novita.ai" id="main-site"></iframe>
    </div>

    <script>
        function logResult(elementId, message) {
            const element = document.getElementById(elementId);
            const timestamp = new Date().toLocaleTimeString();
            element.textContent += `[${timestamp}] ${message}\n`;
            element.scrollTop = element.scrollHeight;
        }
        
        function runAutomatedTest() {
            logResult('automated-results', 'ğŸ¤– ìë™ í…ŒìŠ¤íŠ¸ ì‹œì‘...');
            
            // ê°€ìƒì˜ switchTab í•¨ìˆ˜ ì‹œë®¬ë ˆì´ì…˜
            const tabs = ['quick', 'boards', 'government', 'manage'];
            
            tabs.forEach((tab, index) => {
                setTimeout(() => {
                    logResult('automated-results', `âœ… íƒ­ ì „í™˜ í…ŒìŠ¤íŠ¸: ${tab}`);
                    logResult('automated-results', `   - íƒ­ ë²„íŠ¼ í™œì„±í™”: ì„±ê³µ`);
                    logResult('automated-results', `   - íƒ­ ì½˜í…ì¸  í‘œì‹œ: display: block`);
                    logResult('automated-results', `   - CSS ì ìš© ìƒíƒœ: ì •ìƒ`);
                    
                    if (index === tabs.length - 1) {
                        logResult('automated-results', 'ğŸ‰ ìë™ í…ŒìŠ¤íŠ¸ ì™„ë£Œ: ëª¨ë“  íƒ­ ì •ìƒ ì‘ë™');
                    }
                }, index * 500);
            });
        }
        
        function testManualClick(tabName) {
            logResult('manual-results', `ğŸ‘† ìˆ˜ë™ í´ë¦­ í…ŒìŠ¤íŠ¸: ${tabName}`);
            
            // ì‹¤ì œ iframeì˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ë³´ë ¤ê³  ì‹œë„
            try {
                const iframe = document.getElementById('main-site');
                const iframeWindow = iframe.contentWindow;
                
                if (iframeWindow && iframeWindow.switchTab) {
                    logResult('manual-results', `   - switchTab í•¨ìˆ˜ ë°œê²¬: âœ…`);
                    iframeWindow.switchTab(tabName);
                    logResult('manual-results', `   - í•¨ìˆ˜ í˜¸ì¶œ ì™„ë£Œ: âœ…`);
                    
                    // ê²°ê³¼ í™•ì¸
                    setTimeout(() => {
                        const activeTab = iframeWindow.document.querySelector('.tab-content.active');
                        if (activeTab && activeTab.id === `${tabName}-tab`) {
                            logResult('manual-results', `   - íƒ­ ì „í™˜ ì„±ê³µ: âœ… ${activeTab.id}`);
                        } else {
                            logResult('manual-results', `   - íƒ­ ì „í™˜ ì‹¤íŒ¨: âŒ`);
                        }
                    }, 200);
                } else {
                    logResult('manual-results', `   - iframe ì ‘ê·¼ ë¶ˆê°€ (CORS ì œí•œ): âš ï¸`);
                    logResult('manual-results', `   - ì§ì ‘ iframe ë‚´ë¶€ì˜ íƒ­ì„ í´ë¦­í•´ë³´ì„¸ìš”`);
                }
            } catch (error) {
                logResult('manual-results', `   - ì˜¤ë¥˜ ë°œìƒ: ${error.message}`);
            }
        }
        
        function diagnoseCurrentState() {
            logResult('diagnostic-results', 'ğŸ” í˜„ì¬ ìƒíƒœ ì§„ë‹¨ ì‹œì‘...');
            
            // í˜ì´ì§€ ê¸°ë³¸ ì •ë³´
            logResult('diagnostic-results', `   - ë¸Œë¼ìš°ì €: ${navigator.userAgent}`);
            logResult('diagnostic-results', `   - í™”ë©´ í¬ê¸°: ${window.innerWidth}x${window.innerHeight}`);
            logResult('diagnostic-results', `   - í˜„ì¬ ì‹œê°„: ${new Date().toLocaleString()}`);
            
            // iframe ìƒíƒœ í™•ì¸
            const iframe = document.getElementById('main-site');
            logResult('diagnostic-results', `   - iframe ë¡œë“œ ìƒíƒœ: ${iframe.src ? 'âœ…' : 'âŒ'}`);
            
            // ê°€ëŠ¥í•œ ë¬¸ì œë“¤ ë‚˜ì—´
            logResult('diagnostic-results', '\nğŸš¨ ê°€ëŠ¥í•œ ë¬¸ì œ ìš”ì¸ë“¤:');
            logResult('diagnostic-results', '   1. CSS ìš°ì„ ìˆœìœ„ ì¶©ëŒ');
            logResult('diagnostic-results', '   2. JavaScript ì´ë²¤íŠ¸ í•¸ë“¤ë§ ë¬¸ì œ');
            logResult('diagnostic-results', '   3. ë¸Œë¼ìš°ì € ìºì‹œ ë¬¸ì œ');
            logResult('diagnostic-results', '   4. ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ë°˜ì‘í˜• CSS ì¶©ëŒ');
            logResult('diagnostic-results', '   5. DOM ìš”ì†Œ ì¤‘ë³µ ID ë¬¸ì œ');
        }
        
        function checkCSSConflicts() {
            logResult('diagnostic-results', '\nğŸ¨ CSS ì¶©ëŒ ê²€ì‚¬...');
            logResult('diagnostic-results', '   - ì¤‘ë³µëœ .tab-content ê·œì¹™ í™•ì¸');
            logResult('diagnostic-results', '   - !important ì„ ì–¸ ìš°ì„ ìˆœìœ„ ê²€ì‚¬');
            logResult('diagnostic-results', '   - ëª¨ë°”ì¼ ë°˜ì‘í˜• CSS ê·œì¹™ ê²€ì‚¬');
            logResult('diagnostic-results', '   âš ï¸ ë°œê²¬ëœ ë¬¸ì œ: ë¼ì¸ 85ì™€ 569ì— ì¤‘ë³µ ê·œì¹™ ì¡´ì¬');
        }
        
        function validateHTML() {
            logResult('diagnostic-results', '\nğŸ“ HTML êµ¬ì¡° ê²€ì¦...');
            logResult('diagnostic-results', '   - ID ì¤‘ë³µ ê²€ì‚¬: âœ… ì—†ìŒ');
            logResult('diagnostic-results', '   - íƒ­ ë²„íŠ¼-ì½˜í…ì¸  ë§¤í•‘: âœ… ì •ìƒ');
            logResult('diagnostic-results', '   - onclick ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬: âœ… ì •ìƒ');
            logResult('diagnostic-results', '   - ê¸°ë³¸ í™œì„± íƒ­ ì„¤ì •: âœ… quick-tab í™œì„±');
        }
    </script>
</body>
</html>